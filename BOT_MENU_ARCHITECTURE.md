# –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –º–µ–Ω—é –±–æ—Ç–∞

## –ü—Ä–æ–±–ª–µ–º–∞: –î–≤–∞ —Ç–∏–ø–∞ –∫–Ω–æ–ø–æ–∫ –º–µ–Ω—é –≤ Telegram

–í Telegram Bot API —Å—É—â–µ—Å—Ç–≤—É–µ—Ç **–¥–≤–∞ —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–∞ –∫–Ω–æ–ø–æ–∫ –º–µ–Ω—é**, –∫–æ—Ç–æ—Ä—ã–µ **–Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ**:

### 1. MenuButtonWebApp (—Å–ª–µ–≤–∞ –æ—Ç –ø–æ–ª—è –≤–≤–æ–¥–∞)
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–∞–∫ –∫–Ω–æ–ø–∫–∞ —Å —Ç–µ–∫—Å—Ç–æ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–ö–∞–±–∏–Ω–µ—Ç")
- –û—Ç–∫—Ä—ã–≤–∞–µ—Ç Mini App (WebApp)
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

### 2. MenuButtonCommands (—Å–ø—Ä–∞–≤–∞ –æ—Ç –ø–æ–ª—è –≤–≤–æ–¥–∞, –∏–∫–æ–Ω–∫–∞ ‚ò∞)
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥ –±–æ—Ç–∞
- –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É ‚ò∞
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–æ–º–∞–Ω–¥–∞–º

## –ù–∞—à–µ —Ä–µ—à–µ–Ω–∏–µ

### –í—ã–±—Ä–∞–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
–ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º **MenuButtonWebApp** ("–ö–∞–±–∏–Ω–µ—Ç") —Å–ª–µ–≤–∞, —Ç–∞–∫ –∫–∞–∫ —ç—Ç–æ –æ—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã –º–∞—Å—Ç–µ—Ä–∞.

### –î–æ—Å—Ç—É–ø –∫ –∫–æ–º–∞–Ω–¥–∞–º
–ö–æ–º–∞–Ω–¥—ã –¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ **–∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–∏ –≤–≤–æ–¥–µ "/"** –≤ –ø–æ–ª–µ —Å–æ–æ–±—â–µ–Ω–∏—è:
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞—á–∏–Ω–∞–µ—Ç –≤–≤–æ–¥–∏—Ç—å `/` –≤ –ø–æ–ª–µ
2. Telegram –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–æ–º–∞–Ω–¥ —Å –æ–ø–∏—Å–∞–Ω–∏—è–º–∏
3. –ú–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –∫–æ–º–∞–Ω–¥—É –∏–∑ —Å–ø–∏—Å–∫–∞ –∏–ª–∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –Ω–∞–±–æ—Ä

### –ù–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
```python
commands = [
    BotCommand(command="menu", description="üìã –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é"),
    BotCommand(command="services", description="üíÖ –ú–æ–∏ —É—Å–ª—É–≥–∏"),
    BotCommand(command="appointments", description="üìÖ –ó–∞–ø–∏—Å–∏"),
    BotCommand(command="clients", description="üë• –ö–ª–∏–µ–Ω—Ç—ã"),
    BotCommand(command="schedule", description="üïê –ì—Ä–∞—Ñ–∏–∫ —Ä–∞–±–æ—Ç—ã"),
    BotCommand(command="city", description="üåç –ì–æ—Ä–æ–¥/–¢–∞–π–º–∑–æ–Ω–∞"),
    BotCommand(command="subscription", description="üí≥ –ü–æ–¥–ø–∏—Å–∫–∞"),
    BotCommand(command="referral", description="üéÅ –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞"),
]
```

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

#### bot/main.py
```python
async def setup_bot_commands():
    """Setup bot commands menu for all users."""
    from aiogram.types import BotCommand, BotCommandScopeDefault, MenuButtonCommands
    
    # Register commands (available via "/" autocomplete)
    await bot.set_my_commands(commands=commands, scope=BotCommandScopeDefault())
    
    # Set default menu button (can be overridden per-chat)
    await bot.set_chat_menu_button(menu_button=MenuButtonCommands())
```

#### bot/handlers/onboarding.py
```python
# Override menu button for specific chat after onboarding
await bot.set_chat_menu_button(
    chat_id=message.chat.id,
    menu_button=MenuButtonWebApp(text="–ö–∞–±–∏–Ω–µ—Ç", web_app=WebAppInfo(url=master_url))
)
```

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è (–Ω–µ –≤—ã–±—Ä–∞–Ω—ã)

### –í–∞—Ä–∏–∞–Ω—Ç 1: –¢–æ–ª—å–∫–æ MenuButtonCommands
‚ùå **–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Ç –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ WebApp –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É

### –í–∞—Ä–∏–∞–Ω—Ç 2: –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥ –≤ inline-–∫–ª–∞–≤–∏–∞—Ç—É—Ä–µ
‚ùå **–ü—Ä–æ–±–ª–µ–º–∞:** –ó–∞–≥—Ä–æ–º–æ–∂–¥–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞, –º–µ–Ω–µ–µ –Ω–∞—Ç–∏–≤–Ω—ã–π UX

### –í–∞—Ä–∏–∞–Ω—Ç 3: –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∫–Ω–æ–ø–æ–∫
‚ùå **–ü—Ä–æ–±–ª–µ–º–∞:** –ó–∞–ø—É—Ç—ã–≤–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ

## UX –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ

### –ü–æ—á–µ–º—É WebApp —Å–ª–µ–≤–∞ –ª—É—á—à–µ
1. **–û—Å–Ω–æ–≤–Ω–æ–π workflow** –º–∞—Å—Ç–µ—Ä–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ WebApp (—É—Å–ª—É–≥–∏, —Ñ–∏–Ω–∞–Ω—Å—ã, –∞–Ω–∞–ª–∏—Ç–∏–∫–∞)
2. **–û–¥–Ω–∞ –∫–Ω–æ–ø–∫–∞** –≤–º–µ—Å—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤–≤–æ–¥–∏—Ç—å –∫–æ–º–∞–Ω–¥—ã
3. **–í–∏–∑—É–∞–ª—å–Ω–æ –ø–æ–Ω—è—Ç–Ω–µ–µ** –¥–ª—è –Ω–µ—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –ü–æ—á–µ–º—É "/" –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ
1. **–ù–∞—Ç–∏–≤–Ω—ã–π Telegram UX** - –≤—Å–µ –∑–Ω–∞—é—Ç –ø—Ä–æ "/"
2. **–ù–µ —Ç—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –º–µ—Å—Ç–∞** –Ω–∞ —ç–∫—Ä–∞–Ω–µ
3. **–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ–ø–∏—Å–∞–Ω–∏—è** –∫–æ–º–∞–Ω–¥ –ø—Ä–∏ –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–∏
4. **–ö–æ–º–∞–Ω–¥—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ä–µ–∂–µ** —á–µ–º WebApp

## –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

–ü–æ—Å–ª–µ –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º:
```
üéØ –ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è:
‚Ä¢ –ö–Ω–æ–ø–∫–∞ ¬´–ö–∞–±–∏–Ω–µ—Ç¬ª —Å–ª–µ–≤–∞ ‚Äî WebApp –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚Ä¢ –í–≤–µ–¥–∏—Ç–µ / –¥–ª—è –≤—ã–∑–æ–≤–∞ –∫–æ–º–∞–Ω–¥ –±–æ—Ç–∞

üì± –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:
/menu, /services, /appointments, /clients, /subscription, /referral
```

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∑–∞–º–µ—Ç–∫–∞

API –º–µ—Ç–æ–¥—ã:
- `setMyCommands` - —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –∫–æ–º–∞–Ω–¥—ã (–æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ "/" –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–∏)
- `setChatMenuButton` - —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∫–Ω–æ–ø–∫—É –º–µ–Ω—é (WebApp –∏–ª–∏ Commands)

**–í–∞–∂–Ω–æ:** `setChatMenuButton` –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —á–∞—Ç–∞ **–ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç** –≥–ª–æ–±–∞–ª—å–Ω—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É. –≠—Ç–æ by design –≤ Telegram API.
