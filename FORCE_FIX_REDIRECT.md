# üö® –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞ –Ω–∞ –±–æ—Ç

## –®–∞–≥ 1: –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
```bash
cd /var/www/BeautyAssist
bash diagnose-landing.sh
```

–≠—Ç–æ –ø–æ–∫–∞–∂–µ—Ç —á—Ç–æ –∏–º–µ–Ω–Ω–æ –Ω–µ —Ç–∞–∫.

---

## –®–∞–≥ 2: –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥–∞

```bash
# 1. –ü–µ—Ä–µ–π—Ç–∏ –≤ –ø—Ä–æ–µ–∫—Ç
cd /var/www/BeautyAssist

# 2. –ü–æ–ª—É—á–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
git pull origin main

# 3. –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —á—Ç–æ –≤ –Ω–æ–≤–æ–º –∫–æ–Ω—Ñ–∏–≥–µ (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å—Ç—Ä–æ–∫–∞ —Å landing)
grep "landing" nginx-with-landing.conf
# –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å —Å—Ç—Ä–æ–∫–∏ —Å /webapp/landing/

# 4. –°–¥–µ–ª–∞—Ç—å –±—ç–∫–∞–ø —Å—Ç–∞—Ä–æ–≥–æ –∫–æ–Ω—Ñ–∏–≥–∞
sudo cp /etc/nginx/sites-available/beautyassist /etc/nginx/sites-available/beautyassist.backup

# 5. –ü–†–ò–ù–£–î–ò–¢–ï–õ–¨–ù–û –∑–∞–º–µ–Ω–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥
sudo cp -f nginx-with-landing.conf /etc/nginx/sites-available/beautyassist

# 6. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–ª–æ—Å—å
sudo cat /etc/nginx/sites-available/beautyassist | grep "location = /"

# –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å:
#   location = / {
#       alias /var/www/BeautyAssist/webapp/landing/;
#       try_files /index.html =404;
#   }

# –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ "return 301 https://t.me" - –∫–æ–Ω—Ñ–∏–≥ –ù–ï –æ–±–Ω–æ–≤–∏–ª—Å—è!
```

---

## –®–∞–≥ 3: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å nginx (–∂—ë—Å—Ç–∫–∏–π —Å–ø–æ—Å–æ–±)

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
sudo nginx -t

# –ï—Å–ª–∏ –û–ö - –ñ–Å–°–¢–ö–ê–Ø –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞
sudo systemctl stop nginx
sleep 2
sudo systemctl start nginx

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
sudo systemctl status nginx
```

---

## –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞

```bash
# –¢–µ—Å—Ç 1: –ü—Ä—è–º–æ–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ –∫ index.html
curl -I http://localhost/landing/index.html

# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: HTTP/1.1 200 OK

# –¢–µ—Å—Ç 2: –û–±—Ä–∞—â–µ–Ω–∏–µ –∫ –∫–æ—Ä–Ω—é
curl -I http://localhost/

# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: HTTP/1.1 200 OK (–∞ –ù–ï 301!)

# –¢–µ—Å—Ç 3: –í–Ω–µ—à–Ω–µ–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ
curl -I https://mybeautyassist.ru/

# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: HTTP/2 200 (–∞ –ù–ï 301!)
```

---

## üîç –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –ü—Ä–æ–±–ª–µ–º–∞ 1: –§–∞–π–ª—ã –ª–µ–Ω–¥–∏–Ω–≥–∞ –Ω–µ –Ω–∞ –º–µ—Å—Ç–µ

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
ls -la /var/www/BeautyAssist/webapp/landing/

# –ï—Å–ª–∏ –ø—É—Å—Ç–æ - –æ–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥
cd /var/www/BeautyAssist
git pull origin main

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–Ω–æ–≤–∞
ls -la /var/www/BeautyAssist/webapp/landing/
# –î–æ–ª–∂–Ω—ã –±—ã—Ç—å: index.html, styles.css, script.js
```

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞

```bash
sudo chown -R www-data:www-data /var/www/BeautyAssist/webapp/landing/
sudo chmod -R 755 /var/www/BeautyAssist/webapp/landing/
```

### –ü—Ä–æ–±–ª–µ–º–∞ 3: –ö–µ—à –±—Ä–∞—É–∑–µ—Ä–∞

- –û—Ç–∫—Ä–æ–π—Ç–µ –≤ —Ä–µ–∂–∏–º–µ –∏–Ω–∫–æ–≥–Ω–∏—Ç–æ: Ctrl+Shift+N
- –ò–ª–∏ –∂—ë—Å—Ç–∫–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞: Ctrl+F5
- –ò–ª–∏ –æ—á–∏—Å—Ç–∏—Ç–µ –∫–µ—à: Ctrl+Shift+Delete

### –ü—Ä–æ–±–ª–µ–º–∞ 4: Nginx —á–∏—Ç–∞–µ—Ç –¥—Ä—É–≥–æ–π –∫–æ–Ω—Ñ–∏–≥

```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫–∞–∫–∏–µ –∫–æ–Ω—Ñ–∏–≥–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã
sudo nginx -T | grep -B 5 "return 301"

# –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –¥—Ä—É–≥–æ–π —Ñ–∞–π–ª —Å —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–º - —É–¥–∞–ª–∏—Ç–µ –µ–≥–æ
sudo ls -la /etc/nginx/sites-enabled/
```

---

## üìã –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–±: –°–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥ —Å –Ω—É–ª—è

–ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç:

```bash
# 1. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥–∞ –Ω–∞–ø—Ä—è–º—É—é
sudo nano /etc/nginx/sites-available/beautyassist

# 2. –£–¥–∞–ª–∏—Ç—å –≤—Å—ë –∏ –≤—Å—Ç–∞–≤–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∏–∑ nginx-with-landing.conf

# 3. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å: Ctrl+O, Enter, Ctrl+X

# 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
sudo nginx -t

# 5. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
sudo systemctl restart nginx
```

---

## üéØ –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
curl -I https://mybeautyassist.ru/ 2>&1 | head -n 1

# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: HTTP/2 200
# –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ HTTP/2 301 - –∫–æ–Ω—Ñ–∏–≥ –≤—Å—ë –µ—â—ë —Å—Ç–∞—Ä—ã–π!
```

–û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä (–∏–Ω–∫–æ–≥–Ω–∏—Ç–æ): https://mybeautyassist.ru/

‚úÖ –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å—Å—è **–ª–µ–Ω–¥–∏–Ω–≥** —Å –ª–∞–≤–∞–Ω–¥–æ–≤—ã–º –¥–∏–∑–∞–π–Ω–æ–º!

---

## üìû –ï—Å–ª–∏ –≤—Å—ë —Ä–∞–≤–Ω–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –≤—ã–≤–æ–¥:

```bash
echo "=== –ö–æ–Ω—Ñ–∏–≥ nginx ==="
sudo cat /etc/nginx/sites-available/beautyassist | grep -A 10 "location = /"

echo "=== –§–∞–π–ª—ã –ª–µ–Ω–¥–∏–Ω–≥–∞ ==="
ls -la /var/www/BeautyAssist/webapp/landing/

echo "=== –¢–µ—Å—Ç curl ==="
curl -I https://mybeautyassist.ru/ 2>&1 | head -n 5

echo "=== –õ–æ–≥–∏ –æ—à–∏–±–æ–∫ ==="
sudo tail -10 /var/log/nginx/beautyassist_error.log
```

–≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç –ø–æ–Ω—è—Ç—å —á—Ç–æ –∏–º–µ–Ω–Ω–æ –∏–¥—ë—Ç –Ω–µ —Ç–∞–∫.
