<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Каталог услуг - BeautyAssist</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="services.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <a href="/webapp-master/master.html" class="home-btn"><svg viewBox="0 0 24 24" style="width:24px;height:24px;stroke:#fff;stroke-width:2;fill:none"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg></a>
            <h1><span class="menu-icon"><svg viewBox="0 0 24 24"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg></span>Каталог услуг</h1>
            <button id="add-service-btn" class="btn-primary">+ Добавить услугу</button>
        </header>

        <!-- Services List -->
        <div id="services-list" class="services-list">
            <div class="loading">
                <div class="spinner"></div>
                <p>Загрузка услуг...</p>
            </div>
        </div>

        <!-- Empty State -->
        <div id="empty-state" class="empty-state" style="display: none;">
            <div class="empty-icon-styled"><svg viewBox="0 0 24 24"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg></div>
            <h2>Каталог услуг пуст</h2>
            <p>Добавьте первую услугу в каталог, чтобы клиенты могли записаться к вам</p>
            <button class="btn-primary" onclick="openServiceModal()">+ Добавить услугу</button>
        </div>

        <!-- Service Modal -->
        <div id="service-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 id="modal-title">Добавить услугу</h2>
                    <button class="close-btn" onclick="closeServiceModal()">&times;</button>
                </div>
                
                <form id="service-form">
                    <input type="hidden" id="service-id">
                    
                    <div class="form-group">
                        <label for="service-name">Название услуги *</label>
                        <input 
                            type="text" 
                            id="service-name" 
                            placeholder="Например: Маникюр" 
                            required
                            maxlength="100"
                        >
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="service-duration">Длительность (мин) *</label>
                            <input 
                                type="number" 
                                id="service-duration" 
                                placeholder="60" 
                                required
                                min="15"
                                max="480"
                                step="15"
                            >
                        </div>

                        <div class="form-group">
                            <label for="service-price">Цена (₽) *</label>
                            <input 
                                type="number" 
                                id="service-price" 
                                placeholder="1000" 
                                required
                                min="0"
                                max="999999"
                            >
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="service-category">Категория</label>
                        <select id="service-category">
                            <option value="">Без категории</option>
                            <option value="Ногти">Ногти</option>
                            <option value="Брови и ресницы">Брови и ресницы</option>
                            <option value="Волосы">Волосы</option>
                            <option value="Макияж">Макияж</option>
                            <option value="Массаж">Массаж</option>
                            <option value="Косметология">Косметология</option>
                            <option value="Другое">Другое</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="checkbox-label">
                            <input 
                                type="checkbox" 
                                id="service-active" 
                                checked
                            >
                            <span>Услуга активна (доступна для записи клиентам)</span>
                        </label>
                    </div>

                    <div class="form-group">
                        <label for="service-description">Описание</label>
                        <textarea 
                            id="service-description" 
                            placeholder="Дополнительная информация об услуге (необязательно)"
                            maxlength="500"
                            rows="3"
                        ></textarea>
                        <span class="char-counter">0/500</span>
                    </div>

                    <div class="form-actions">
                        <button type="submit" class="btn-primary" id="save-btn">
                            <span class="btn-text">Сохранить</span>
                            <span class="btn-loading" style="display: none;">
                                <span class="spinner-small"></span>
                                Сохранение...
                            </span>
                        </button>
                        <button type="button" class="btn-secondary" onclick="closeServiceModal()">
                            Отмена
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Delete Confirmation Modal -->
        <div id="delete-modal" class="modal">
            <div class="modal-content modal-small">
                <div class="modal-header">
                    <h2>Удалить услугу?</h2>
                </div>
                
                <p class="delete-warning">
                    Вы уверены, что хотите удалить услугу "<span id="delete-service-name"></span>"?
                    Это действие нельзя отменить.
                </p>

                <div class="form-actions">
                    <button class="btn-danger" onclick="confirmDelete()">
                        Удалить
                    </button>
                    <button class="btn-secondary" onclick="closeDeleteModal()">
                        Отмена
                    </button>
                </div>
            </div>
        </div>

        <!-- Error Message -->
        <div id="error-toast" class="toast error-toast">
            <span id="error-message"></span>
        </div>

        <!-- Success Message -->
        <div id="success-toast" class="toast success-toast">
            <span id="success-message"></span>
        </div>
    </div>

    <script src="services.js"></script>
</body>
</html>
