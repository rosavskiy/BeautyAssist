# üìÖ –ü–ª–∞–Ω —Ä–∞–±–æ—Ç—ã –Ω–∞ –Ω–µ–¥–µ–ª—é (6-13 –¥–µ–∫–∞–±—Ä—è 2025)

**–î–∞—Ç–∞ —Å–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è:** 6 –¥–µ–∫–∞–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞:** Production-ready —Å –∞–∫—Ç–∏–≤–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏  
**–û—Å–Ω–æ–≤–Ω—ã–µ —Ü–µ–ª–∏:** –î–æ—Ä–∞–±–æ—Ç–∫–∞ UX, –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –≤ Mini App, –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é

---

## üìä –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è

### ‚úÖ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (Production-ready)

#### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- ‚úÖ –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (127 —Å—Ç—Ä–æ–∫ main.py –≤–º–µ—Å—Ç–æ 2549)
- ‚úÖ 4 middleware (auth, throttling, logging, error_handler)
- ‚úÖ Structured JSON logging —Å rotation
- ‚úÖ PostgreSQL —Å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –∏–Ω–¥–µ–∫—Å–∞–º–∏
- ‚úÖ Rate limiting (5 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω)
- ‚úÖ 61+ unit-—Ç–µ—Å—Ç–æ–≤ (~70% coverage)

#### –ë–∏–∑–Ω–µ—Å-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
- ‚úÖ –û–Ω–±–æ—Ä–¥–∏–Ω–≥ –º–∞—Å—Ç–µ—Ä–∞ (–≥–æ—Ä–æ–¥, —Ç–∞–π–º–∑–æ–Ω–∞, –≥—Ä–∞—Ñ–∏–∫ —Ä–∞–±–æ—Ç—ã)
- ‚úÖ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Å–ª—É–≥–∞–º–∏ —á–µ—Ä–µ–∑ Mini App** (services.html - CRUD —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏)
- ‚úÖ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞–º–∏ —á–µ—Ä–µ–∑ Mini App** (clients.html - —Å–ø–∏—Å–æ–∫, –ø–æ–∏—Å–∫, –¥–µ—Ç–∞–ª–∏)
- ‚úÖ –ó–∞–ø–∏—Å—å –∫–ª–∏–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ WebApp (–∫–∞–ª–µ–Ω–¥–∞—Ä—å, –≤—ã–±–æ—Ä —Å–ª–æ—Ç–æ–≤)
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π (T-24h, T-2h, —Ä–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è T+21d)
- ‚úÖ "–ú–æ–∏ –∑–∞–ø–∏—Å–∏" –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤ (—Ñ–∏–ª—å—Ç—Ä—ã, –ø–µ—Ä–µ–Ω–æ—Å, –æ—Ç–º–µ–Ω–∞)
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è –∫–ª–∏–µ–Ω—Ç–∞ –¥–ª—è –º–∞—Å—Ç–µ—Ä–∞
- ‚úÖ –§–∏–Ω–∞–Ω—Å–æ–≤–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ (–≤—ã—Ä—É—á–∫–∞, —Ä–∞—Å—Ö–æ–¥—ã, –ø—Ä–∏–±—ã–ª—å, –º–∞—Ä–∂–∞)
- ‚úÖ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –∑–∞–ø–∏—Å—è–º

#### –ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–ø–∏—Å–æ–∫ (Trial 14–¥, Monthly 990‚ÇΩ, Quarterly 2490‚ÇΩ, Yearly 8280‚ÇΩ)
- ‚úÖ Telegram Stars –ø–ª–∞—Ç–µ–∂–∏
- ‚úÖ –ü—Ä–æ–º–æ–∫–æ–¥—ã (–ø—Ä–æ—Ü–µ–Ω—Ç, —Ñ–∏–∫—Å. —Å–∫–∏–¥–∫–∞, trial extension)
- ‚úÖ –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ (—Å—Ç–∞—Ç—É—Å: —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é)
- ‚úÖ SubscriptionMonitorService (–ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—ã–µ 6—á)
- ‚úÖ MRR, Churn rate, LTV –º–µ—Ç—Ä–∏–∫–∏

#### Admin Panel
- ‚úÖ Dashboard —Å–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π
- ‚úÖ –ú–∞—Å—Å–æ–≤–∞—è —Ä–∞—Å—Å—ã–ª–∫–∞ —Å FSM
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∞—Å—Ç–µ—Ä–∞–º–∏ (–ø–æ–∏—Å–∫, —Ñ–∏–ª—å—Ç—Ä—ã, –¥–µ—Ç–∞–ª–∏)
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è —Ä–∞—Å—Å—ã–ª–æ–∫ —Å tracking
- ‚úÖ –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –≤ –∞–¥–º–∏–Ω–∫–µ

### üîß –ß—Ç–æ —Ç—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏

#### –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –±–∞–≥–∏ (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ —Å–µ–≥–æ–¥–Ω—è)
- ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û:** –û—à–∏–±–∫–∞ "message is not modified" –≤ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–π –ø—Ä–æ–≥—Ä–∞–º–º–µ
- ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û:** 404 "master not found" –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ /clients –∏ /services
- ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û:** mid –ø–µ—Ä–µ–¥–∞–≤–∞–ª—Å—è –∫–∞–∫ master.id –≤–º–µ—Å—Ç–æ telegram_id

#### Mini App –º–∏–≥—Ä–∞—Ü–∏—è (—á–∞—Å—Ç–∏—á–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–æ)
- ‚úÖ **–£—Å–ª—É–≥–∏** - –ø–æ–ª–Ω–æ—Å—Ç—å—é –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã –≤ Mini App
- ‚úÖ **–ö–ª–∏–µ–Ω—Ç—ã** - –ø–æ–ª–Ω–æ—Å—Ç—å—é –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã –≤ Mini App
- ‚ö†Ô∏è **–ó–∞–ø–∏—Å–∏** - —á–∞—Å—Ç–∏—á–Ω–æ —á–µ—Ä–µ–∑ –±–æ—Ç, –∫–∞–ª–µ–Ω–¥–∞—Ä—å —Ç–æ–ª—å–∫–æ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤
- ‚ö†Ô∏è **–§–∏–Ω–∞–Ω—Å—ã** - —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –±–æ—Ç
- ‚ö†Ô∏è **–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ** - —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –±–æ—Ç

#### –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
- ‚ö†Ô∏è Admin Analytics Dashboard —Å–æ–∑–¥–∞–Ω, –Ω–æ API endpoints –Ω–µ –∑–∞—â–∏—â–µ–Ω—ã
- ‚ö†Ô∏è –ù–µ—Ç retention/cohort/funnel –º–µ—Ç—Ä–∏–∫ (–µ—Å—Ç—å –∑–∞–≥–ª—É—à–∫–∏ –≤ HTML)
- ‚ö†Ô∏è AnalyticsService –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω

#### UX —É–ª—É—á—à–µ–Ω–∏—è
- ‚ö†Ô∏è –ù–µ—Ç –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ —É—Å–ª—É–≥ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º –≤ –∞–¥–º–∏–Ω–∫–µ (—Ç–æ–ª—å–∫–æ —É –∫–ª–∏–µ–Ω—Ç–∞)
- ‚ö†Ô∏è –ö–ª–∏–µ–Ω—Ç—ã –Ω–µ –º–æ–≥—É—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
- ‚ö†Ô∏è –ù–µ—Ç bulk –æ–ø–µ—Ä–∞—Ü–∏–π –≤ –∞–¥–º–∏–Ω–∫–µ

---

## üéØ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –Ω–∞ –Ω–µ–¥–µ–ª—é

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: üî• –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ Admin Analytics
**–ó–∞—á–µ–º:** –ù—É–∂–Ω—ã retention –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –æ—Ç—Ç–æ–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: üåê –ú–∏–≥—Ä–∞—Ü–∏—è –∑–∞–ø–∏—Å–µ–π –≤ Mini App
**–ó–∞—á–µ–º:** –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å—è–º–∏ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3: üìä –§–∏–Ω–∞–Ω—Å—ã –≤ Mini App
**–ó–∞—á–µ–º:** –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π UX, –≥—Ä–∞—Ñ–∏–∫–∏, –ª—É—á—à–µ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è

---

## üìÜ –î–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω –ø–æ –¥–Ω—è–º

---

## –î–µ–Ω—å 1 (6 –¥–µ–∫–∞–±—Ä—è) - Analytics Backend ‚úÖ –ó–ê–í–ï–†–®–Å–ù

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–æ (100%)

**–í—ã–ø–æ–ª–Ω–µ–Ω–æ:**
- ‚úÖ AnalyticsService —É–∂–µ –±—ã–ª –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤ services/analytics.py
  - get_retention_report() - Day 1/7/30 retention —Ä–∞—Å—á—ë—Ç
  - get_cohort_analysis() - cohort analysis –ø–æ –Ω–µ–¥–µ–ª—è–º —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
  - get_funnel_conversion() - conversion funnel (5 —ç—Ç–∞–ø–æ–≤)
  - get_growth_metrics() - DAU/WAU/MAU, growth rate, activation rate

- ‚úÖ API endpoints —É–∂–µ –±—ã–ª–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤ bot/handlers/api.py:
  - GET /api/admin/analytics/retention (—Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ –¥–∞—Ç–∞–º)
  - GET /api/admin/analytics/cohorts?weeks=N
  - GET /api/admin/analytics/funnel
  - GET /api/admin/analytics/growth?period=month|week|day

- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è –∏–Ω–¥–µ–∫—Å–æ–≤ (alembic/versions/...add_analytics_indexes.py):
  - ix_masters_created_at - –¥–ª—è cohort analysis –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏
  - ix_masters_onboarded_created - –¥–ª—è funnel analysis
  - ix_appointments_master_created - –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

- ‚úÖ –£–ª—É—á—à–µ–Ω webapp/admin/analytics.js:
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ response.ok –¥–ª—è –≤—Å–µ—Ö fetch –≤—ã–∑–æ–≤–æ–≤
  - –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å re-throw –≤ loadAllData()
  - –í—Å–µ API –≤—ã–∑–æ–≤—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ (–Ω–µ mock)
  - –ì—Ä–∞—Ñ–∏–∫–∏ Chart.js –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç retention/cohorts/funnel/growth

- ‚úÖ tests/test_analytics.py —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Å 10+ —Ç–µ—Å—Ç–∞–º–∏

**–í–∞–∂–Ω—ã–µ –Ω–∞—Ö–æ–¥–∫–∏:**
- –ö–æ–ª–æ–Ω–∫–∞ `master.last_active_at` –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –ë–î ‚Üí –∏—Å–ø–æ–ª—å–∑—É—é `appointments.start_time` –¥–ª—è retention
- –í—Å–µ API endpoints –Ω–µ —Ç—Ä–µ–±—É—é—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (TODO –≤ –∫–æ–¥–µ, –Ω–æ –¥–ª—è MVP –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ)
- Analytics Dashboard –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ production

**–í—Ä–µ–º—è –∑–∞—Ç—Ä–∞—á–µ–Ω–æ:** ~30 –º–∏–Ω—É—Ç (–ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ–¥–∞, –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤, —É–ª—É—á—à–µ–Ω–∏–µ error handling)

**–ö–æ–º–º–∏—Ç:** ff0ad79 "Day 1 Complete: Analytics Backend –≥–æ—Ç–æ–≤ –∫ production"

---

## –î–µ–Ω—å 2 (7 –¥–µ–∫–∞–±—Ä—è) - Appointments Mini App ‚úÖ –ó–ê–í–ï–†–®–Å–ù

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–æ (100%)

**–ß—Ç–æ –±—ã–ª–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —Ä–∞–Ω–µ–µ:**
- ‚úÖ webapp/appointments.html - –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π Mini App –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤ —Å –∫–∞–ª–µ–Ω–¥–∞—Ä—ë–º, —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
- ‚úÖ API endpoints –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–ø–∏—Å—è–º–∏ (complete, cancel, reschedule)
- ‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –º–∞—Å—Ç–µ—Ä—É –ø—Ä–∏ –ø–µ—Ä–µ–Ω–æ—Å–µ/–æ—Ç–º–µ–Ω–µ –∫–ª–∏–µ–Ω—Ç–æ–º

**–ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ —Å–µ–≥–æ–¥–Ω—è:**
- ‚úÖ **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç—É** –ø—Ä–∏ –¥–µ–π—Å—Ç–≤–∏—è—Ö –º–∞—Å—Ç–µ—Ä–∞:
  - –ü—Ä–∏ –æ—Ç–º–µ–Ω–µ –∑–∞–ø–∏—Å–∏ –º–∞—Å—Ç–µ—Ä–æ–º ‚Üí –∫–ª–∏–µ–Ω—Ç –ø–æ–ª—É—á–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ Telegram
  - –ü—Ä–∏ –ø–µ—Ä–µ–Ω–æ—Å–µ –∑–∞–ø–∏—Å–∏ –º–∞—Å—Ç–µ—Ä–æ–º ‚Üí –∫–ª–∏–µ–Ω—Ç –ø–æ–ª—É—á–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –Ω–æ–≤—ã–º –≤—Ä–µ–º–µ–Ω–µ–º
  - **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º—É –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π:**
    - –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ —Ç–∏–ø—ã reminder: RESCHEDULED, CANCELLED_BY_MASTER
    - –ü—Ä–∏ –ø–µ—Ä–µ–Ω–æ—Å–µ/–æ—Ç–º–µ–Ω–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è immediate reminder (scheduled_time=now())
    - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Å–∏—Å—Ç–µ–º—É send_due_reminders()
    - –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ extra_data (JSON) –≤ –º–æ–¥–µ–ª—å Reminder –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
    - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ—Ç –∂–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º, —á—Ç–æ –∏ –æ–±—ã—á–Ω—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –∑–∞–ø–∏—Å–∏
- ‚úÖ **–¶–µ–Ω–∞ —É—Å–ª—É–≥–∏** –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ –∫–∞—Ä—Ç–æ—á–∫–∏ –∑–∞–ø–∏—Å–µ–π:
  - API —Ç–µ–ø–µ—Ä—å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `service_price` –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞
  - Frontend –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Ü–µ–Ω—É –ø–æ–¥ –≤—Ä–µ–º–µ–Ω–µ–º –∑–∞–ø–∏—Å–∏ (üí∞ 1000 ‚ÇΩ)

**–§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:**
- `database/models/reminder.py` - –¥–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ —Ç–∏–ø—ã reminder –∏ –ø–æ–ª–µ extra_data
- `services/notifications.py` - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –Ω–æ–≤—ã—Ö —Ç–∏–ø–æ–≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- `bot/handlers/api.py` - –∑–∞–º–µ–Ω–∞ –ø—Ä—è–º–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ reminder (+55 —Å—Ç—Ä–æ–∫)
- `webapp/appointments.js` - –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ü–µ–Ω—ã —É—Å–ª—É–≥–∏ (+3 —Å—Ç—Ä–æ–∫–∏)

**–í—Ä–µ–º—è –∑–∞—Ç—Ä–∞—á–µ–Ω–æ:** ~80 –º–∏–Ω—É—Ç (20 –º–∏–Ω –±–∞–∑–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è + 60 –º–∏–Ω —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º—É –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π)

**–ö–æ–º–º–∏—Ç—ã:** 
- d522299 "Day 2 Fix: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç—É —á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º—É –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π"

**–í–∞–∂–Ω–æ:** –ú–∏–≥—Ä–∞—Ü–∏—è –¥–ª—è extra_data –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è - –±—É–¥–µ—Ç –ø—Ä–∏–º–µ–Ω–µ–Ω–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–æ–ª–Ω–æ–π —Å—Ö–µ–º—ã –ë–î –Ω–∞ production.

---

## üìå –¢–ï–ö–£–©–ò–ô –°–¢–ê–¢–£–° (6 –¥–µ–∫–∞–±—Ä—è, –≤–µ—á–µ—Ä)

**–ó–∞–≤–µ—Ä—à–µ–Ω–æ:**
- ‚úÖ –î–µ–Ω—å 1: Analytics Backend (30 –º–∏–Ω—É—Ç)
- ‚úÖ –î–µ–Ω—å 2: –î–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è + —Ü–µ–Ω—ã (80 –º–∏–Ω—É—Ç)
  - –°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ reminder infrastructure
  - –ö–ª–∏–µ–Ω—Ç –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –¥–µ–π—Å—Ç–≤–∏—è—Ö –º–∞—Å—Ç–µ—Ä–∞
  - –¶–µ–Ω—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö –∑–∞–ø–∏—Å–µ–π

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**
- –î–µ–ø–ª–æ–π –Ω–∞ production –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (—Ç—Ä–µ–±—É–µ—Ç—Å—è –∑–∞–ø—É—Å–∫ cron)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã Mini App appointments.html (—É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
- –í–æ–∑–º–æ–∂–Ω–æ –Ω–∞—á–∞—Ç—å –î–µ–Ω—å 3 (Finances Mini App) —Ä–∞–Ω—å—à–µ —Å—Ä–æ–∫–∞

**–ó–∞–º–µ—á–∞–Ω–∏—è:**
- Appointments Mini App –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤ —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (webapp/appointments.html)
- API endpoints –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–ø–∏—Å—è–º–∏ –º–∞—Å—Ç–µ—Ä–æ–º —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç
- –û—Å–Ω–æ–≤–Ω–∞—è –∑–∞–¥–∞—á–∞ Day 2 (—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è + —Ü–µ–Ω—ã) –≤—ã–ø–æ–ª–Ω–µ–Ω–∞

---

## –î–µ–Ω—å 2 (7 –¥–µ–∫–∞–±—Ä—è) - Appointments Mini App (ORIGINAL PLAN - –ù–ï –¢–†–ï–ë–£–ï–¢–°–Ø)

### –£—Ç—Ä–æ (09:00-13:00) - 4 —á–∞—Å–∞
**–ó–∞–¥–∞—á–∞:** –°–æ–∑–¥–∞—Ç—å appointments.html –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–ø–∏—Å—è–º–∏ –º–∞—Å—Ç–µ—Ä–∞

#### –°–æ–∑–¥–∞—Ç—å `webapp/master/appointments.html`
**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
- –ö–∞–ª–µ–Ω–¥–∞—Ä—å –Ω–∞ –Ω–µ–¥–µ–ª—é (FullCalendar.js –∏–ª–∏ custom)
- –°–ø–∏—Å–æ–∫ –∑–∞–ø–∏—Å–µ–π –Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –¥–µ–Ω—å
- –§–∏–ª—å—Ç—Ä—ã: –≤—Å–µ/–æ–∂–∏–¥–∞—é—Ç/–∑–∞–≤–µ—Ä—à–µ–Ω—ã/–æ—Ç–º–µ–Ω–µ–Ω—ã
- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–µ—Ç–∞–ª–∏ –∑–∞–ø–∏—Å–∏:
  - –ö–ª–∏–µ–Ω—Ç (–∏–º—è, —Ç–µ–ª–µ—Ñ–æ–Ω)
  - –£—Å–ª—É–≥–∞, –≤—Ä–µ–º—è, —Ü–µ–Ω–∞
  - –°—Ç–∞—Ç—É—Å, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
  - –ö–Ω–æ–ø–∫–∏: –ó–∞–≤–µ—Ä—à–∏—Ç—å, –û—Ç–º–µ–Ω–∏—Ç—å, –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏

**–î–∏–∑–∞–π–Ω:**
- Telegram theme colors
- –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å–µ—Ç–∫–∞
- Touch-friendly (–±–æ–ª—å—à–∏–µ –∫–Ω–æ–ø–∫–∏)

**–§–∞–π–ª—ã:**
- `webapp/master/appointments.html` (~250 —Å—Ç—Ä–æ–∫)
- `webapp/master/appointments.js` (~400 —Å—Ç—Ä–æ–∫)
- `webapp/master/appointments.css` (~200 —Å—Ç—Ä–æ–∫)

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- ‚úÖ –ö–∞–ª–µ–Ω–¥–∞—Ä—å –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∑–∞–ø–∏—Å–∏ —Å —Ü–≤–µ—Ç–∞–º–∏ –ø–æ —Å—Ç–∞—Ç—É—Å—É
- ‚úÖ –ö–ª–∏–∫ –Ω–∞ –∑–∞–ø–∏—Å—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –¥–µ—Ç–∞–ª–∏
- ‚úÖ –§–∏–ª—å—Ç—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ Responsive design (—Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ)

---

### –î–µ–Ω—å (14:00-17:00) - 3 —á–∞—Å–∞
**–ó–∞–¥–∞—á–∞:** API endpoints –¥–ª—è appointments

#### –û–±–Ω–æ–≤–∏—Ç—å `bot/handlers/api.py`
–î–æ–±–∞–≤–∏—Ç—å endpoints:
- `GET /api/master/appointments?mid={id}&date={YYYY-MM-DD}`
- `POST /api/master/appointment/complete` (id, payment_received, comment)
- `POST /api/master/appointment/cancel` (id, reason)
- `POST /api/master/appointment/reschedule` (id, new_start_time)

**–í–∞–ª–∏–¥–∞—Ü–∏—è:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ (mid == appointment.master_id)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ (–Ω–µ–ª—å–∑—è –∑–∞–≤–µ—Ä—à–∏—Ç—å –æ—Ç–º–µ–Ω—ë–Ω–Ω—É—é –∑–∞–ø–∏—Å—å)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ (–Ω–µ–ª—å–∑—è –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –Ω–∞ –∑–∞–Ω—è—Ç—ã–π —Å–ª–æ—Ç)

**–§–∞–π–ª—ã:**
- `bot/handlers/api.py` (+200 —Å—Ç—Ä–æ–∫)

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- ‚úÖ –í—Å–µ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞
- ‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç—É –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π

---

### –í–µ—á–µ—Ä (18:00-20:00) - 2 —á–∞—Å–∞
**–ó–∞–¥–∞—á–∞:** –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è appointments.js —Å API

#### –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –≤ `appointments.js`
```javascript
async function loadAppointments(date) { ... }
async function completeAppointment(id, payment, comment) { ... }
async function cancelAppointment(id, reason) { ... }
async function rescheduleAppointment(id, newTime) { ... }
```

**–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:**
- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å toast —Å –æ—à–∏–±–∫–æ–π
- Retry –ø—Ä–∏ network errors
- Optimistic UI updates

**–§–∞–π–ª—ã:**
- `webapp/master/appointments.js` (—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è ~400 —Å—Ç—Ä–æ–∫)

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- ‚úÖ –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç —á–µ—Ä–µ–∑ API
- ‚úÖ UI –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ (optimistic updates)
- ‚úÖ –û—à–∏–±–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ù–µ—Ç race conditions

---

## –î–µ–Ω—å 3 (8 –¥–µ–∫–∞–±—Ä—è) - Finances Mini App

### –£—Ç—Ä–æ (09:00-13:00) - 4 —á–∞—Å–∞
**–ó–∞–¥–∞—á–∞:** –°–æ–∑–¥–∞—Ç—å finances.html –¥–ª—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ —É—á—ë—Ç–∞

#### –°–æ–∑–¥–∞—Ç—å `webapp/master/finances.html`
**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
- **–î–∞—à–±–æ—Ä–¥:**
  - –ö–∞—Ä—Ç–æ—á–∫–∏: –í—ã—Ä—É—á–∫–∞, –†–∞—Å—Ö–æ–¥—ã, –ü—Ä–∏–±—ã–ª—å, –ú–∞—Ä–∂–∞
  - –ì—Ä–∞—Ñ–∏–∫–∏: Revenue/Expenses –ø–æ –¥–Ω—è–º (Chart.js)
  - –§–∏–ª—å—Ç—Ä –ø–æ –ø–µ—Ä–∏–æ–¥—É (–Ω–µ–¥–µ–ª—è/–º–µ—Å—è—Ü/–≥–æ–¥)

- **–í–∫–ª–∞–¥–∫–∞ "–î–æ—Ö–æ–¥—ã":**
  - –°–ø–∏—Å–æ–∫ –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π —Å –æ–ø–ª–∞—Ç–æ–π
  - –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –¥–Ω—è–º
  - –ò—Ç–æ–≥–æ –∑–∞ –ø–µ—Ä–∏–æ–¥

- **–í–∫–ª–∞–¥–∫–∞ "–†–∞—Å—Ö–æ–¥—ã":**
  - –°–ø–∏—Å–æ–∫ —Ä–∞—Å—Ö–æ–¥–æ–≤ —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏
  - –ö–Ω–æ–ø–∫–∞ "–î–æ–±–∞–≤–∏—Ç—å —Ä–∞—Å—Ö–æ–¥"
  - –ò—Ç–æ–≥–æ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º

- **–í–∫–ª–∞–¥–∫–∞ "–ê–Ω–∞–ª–∏—Ç–∏–∫–∞":**
  - –ö—Ä—É–≥–æ–≤–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
  - –¢—Ä–µ–Ω–¥ –ø—Ä–∏–±—ã–ª–∏ (–ª–∏–Ω–µ–π–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫)
  - ROI –ø–æ —É—Å–ª—É–≥–∞–º

**–§–∞–π–ª—ã:**
- `webapp/master/finances.html` (~300 —Å—Ç—Ä–æ–∫)
- `webapp/master/finances.js` (~500 —Å—Ç—Ä–æ–∫)
- `webapp/master/finances.css` (~250 —Å—Ç—Ä–æ–∫)

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- ‚úÖ –î–∞—à–±–æ—Ä–¥ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- ‚úÖ –ì—Ä–∞—Ñ–∏–∫–∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ (Chart.js)
- ‚úÖ –§–∏–ª—å—Ç—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ Responsive design

---

### –î–µ–Ω—å (14:00-17:00) - 3 —á–∞—Å–∞
**–ó–∞–¥–∞—á–∞:** API –¥–ª—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤ –∏ expenses

#### –û–±–Ω–æ–≤–∏—Ç—å `bot/handlers/api.py`
–î–æ–±–∞–≤–∏—Ç—å endpoints:
- `GET /api/master/finances/summary?mid={id}&period={week|month|year}`
- `GET /api/master/finances/revenue?mid={id}&start={date}&end={date}`
- `GET /api/master/finances/expenses?mid={id}&start={date}&end={date}`
- `POST /api/master/expense/create` (mid, amount, category, description, date)

**–û—Ç–≤–µ—Ç—ã:**
```json
{
  "summary": {
    "revenue": 45000,
    "expenses": 12000,
    "profit": 33000,
    "margin": 73.3,
    "revenue_chart": [...],
    "expenses_chart": [...]
  }
}
```

**–§–∞–π–ª—ã:**
- `bot/handlers/api.py` (+150 —Å—Ç—Ä–æ–∫)

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- ‚úÖ –í—Å–µ endpoints –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- ‚úÖ –†–∞—Å—á—ë—Ç—ã –ø—Ä–∏–±—ã–ª–∏ –∏ –º–∞—Ä–∂–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ
- ‚úÖ –ì—Ä–∞—Ñ–∏–∫ –¥–∞–Ω–Ω—ã–µ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ

---

### –í–µ—á–µ—Ä (18:00-20:00) - 2 —á–∞—Å–∞
**–ó–∞–¥–∞—á–∞:** –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è finances.js —Å API

#### –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –¥–∞–Ω–Ω—ã—Ö
```javascript
async function loadFinancialSummary(period) { ... }
async function loadRevenueDetails(start, end) { ... }
async function loadExpenses(start, end) { ... }
async function createExpense(data) { ... }
```

**–§–∞–π–ª—ã:**
- `webapp/master/finances.js` (—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è ~500 —Å—Ç—Ä–æ–∫)

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- ‚úÖ –í—Å–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ì—Ä–∞—Ñ–∏–∫–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –ø—Ä–∏ —Å–º–µ–Ω–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å—Ö–æ–¥–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ UI responsive

---

## –î–µ–Ω—å 4 (9 –¥–µ–∫–∞–±—Ä—è) - –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞ ‚Üí Mini App

### –£—Ç—Ä–æ (09:00-13:00) - 4 —á–∞—Å–∞
**–ó–∞–¥–∞—á–∞:** –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—ã /appointments –∏ /finances

#### –û–±–Ω–æ–≤–∏—Ç—å `bot/handlers/master.py`
**–ò–∑–º–µ–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—ã:**

1. `/appointments` - –æ—Ç–∫—Ä—ã–≤–∞—Ç—å Mini App –≤–º–µ—Å—Ç–æ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ —Å–ø–∏—Å–∫–∞
```python
@router.message(Command("appointments"))
async def cmd_appointments(message: Message):
    webapp_url = f"{base_url}/webapp/master/appointments.html?mid={message.from_user.id}"
    # –°–æ–∑–¥–∞—Ç—å inline –∫–Ω–æ–ø–∫—É —Å WebAppInfo
```

2. `/finances` - –æ—Ç–∫—Ä—ã–≤–∞—Ç—å Mini App
```python
@router.message(Command("finances"))
async def cmd_finances(message: Message):
    webapp_url = f"{base_url}/webapp/master/finances.html?mid={message.from_user.id}"
```

3. –û–±–Ω–æ–≤–∏—Ç—å `/menu` - –¥–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫–∏ –¥–ª—è Mini Apps
```
üìÖ –ó–∞–ø–∏—Å–∏ (Mini App)
üí∞ –§–∏–Ω–∞–Ω—Å—ã (Mini App)
üë• –ö–ª–∏–µ–Ω—Ç—ã (Mini App)
üìù –£—Å–ª—É–≥–∏ (Mini App)
```

**–£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–µ handlers:**
- –¢–µ–∫—Å—Ç–æ–≤—ã–µ —Å–ø–∏—Å–∫–∏ –∑–∞–ø–∏—Å–µ–π
- FSM –¥–ª—è –æ—Ç–º–µ—Ç–∫–∏ –æ–ø–ª–∞—Ç—ã —á–µ—Ä–µ–∑ –±–æ—Ç
- FSM –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ä–∞—Å—Ö–æ–¥–æ–≤ —á–µ—Ä–µ–∑ –±–æ—Ç

**–§–∞–π–ª—ã:**
- `bot/handlers/master.py` (–æ–±–Ω–æ–≤–∏—Ç—å ~200 —Å—Ç—Ä–æ–∫, —É–¥–∞–ª–∏—Ç—å ~400 —Å—Ç—Ä–æ–∫)
- `bot/keyboards/master.py` (–æ–±–Ω–æ–≤–∏—Ç—å –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é)

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- ‚úÖ –í—Å–µ –∫–æ–º–∞–Ω–¥—ã –æ—Ç–∫—Ä—ã–≤–∞—é—Ç Mini App
- ‚úÖ –°—Ç–∞—Ä—ã–µ FSM –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —É–¥–∞–ª–µ–Ω—ã
- ‚úÖ –ú–µ–Ω—é –æ–±–Ω–æ–≤–ª–µ–Ω–æ
- ‚úÖ mid –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è (telegram_id, –Ω–µ master.id!)

---

### –î–µ–Ω—å (14:00-17:00) - 3 —á–∞—Å–∞
**–ó–∞–¥–∞—á–∞:** –£–ª—É—á—à–∏—Ç—å UX Mini Apps

#### –î–æ–±–∞–≤–∏—Ç—å –Ω–∞–≤–∏–≥–∞—Ü–∏—é –º–µ–∂–¥—É Mini Apps
**–í –∫–∞–∂–¥—ã–π HTML –¥–æ–±–∞–≤–∏—Ç—å bottom navigation:**
```html
<nav class="bottom-nav">
  <a href="/webapp/master/appointments.html?mid={mid}">üìÖ –ó–∞–ø–∏—Å–∏</a>
  <a href="/webapp/master/finances.html?mid={mid}">üí∞ –§–∏–Ω–∞–Ω—Å—ã</a>
  <a href="/webapp/master/clients.html?mid={mid}">üë• –ö–ª–∏–µ–Ω—Ç—ã</a>
  <a href="/webapp/master/services.html?mid={mid}">üìù –£—Å–ª—É–≥–∏</a>
</nav>
```

**–°—Ç–∏–ª–∏:**
- –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –Ω–∏–∑ —ç–∫—Ä–∞–Ω–∞
- Telegram theme colors
- Active —Å–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è —Ç–µ–∫—É—â–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- Touch-friendly (–º–∏–Ω–∏–º—É–º 44px –≤—ã—Å–æ—Ç–∞)

**–§–∞–π–ª—ã:**
- `webapp/master/appointments.html` (–¥–æ–±–∞–≤–∏—Ç—å nav)
- `webapp/master/finances.html` (–¥–æ–±–∞–≤–∏—Ç—å nav)
- `webapp/master/clients.html` (–¥–æ–±–∞–≤–∏—Ç—å nav)
- `webapp/master/services.html` (–¥–æ–±–∞–≤–∏—Ç—å nav)
- `webapp/master/common.css` (–Ω–æ–≤—ã–π —Ñ–∞–π–ª –¥–ª—è –æ–±—â–∏—Ö —Å—Ç–∏–ª–µ–π)

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- ‚úÖ –ù–∞–≤–∏–≥–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö
- ‚úÖ Active —Å–æ—Å—Ç–æ—è–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ Responsive design
- ‚úÖ mid —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–∞—Ö

---

### –í–µ—á–µ—Ä (18:00-20:00) - 2 —á–∞—Å–∞
**–ó–∞–¥–∞—á–∞:** –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ bug fixing

#### –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö Mini Apps
**–ß–µ–∫-–ª–∏—Å—Ç:**
- [ ] Services: —Å–æ–∑–¥–∞–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ —É—Å–ª—É–≥–∏
- [ ] Clients: –ø—Ä–æ—Å–º–æ—Ç—Ä, –ø–æ–∏—Å–∫, –¥–µ—Ç–∞–ª–∏ –∫–ª–∏–µ–Ω—Ç–∞
- [ ] Appointments: –ø—Ä–æ—Å–º–æ—Ç—Ä, –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ, –æ—Ç–º–µ–Ω–∞, –ø–µ—Ä–µ–Ω–æ—Å
- [ ] Finances: –ø—Ä–æ—Å–º–æ—Ç—Ä –¥–∞—à–±–æ—Ä–¥–∞, –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å—Ö–æ–¥–∞, —Ñ–∏–ª—å—Ç—Ä—ã

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞:**
- [ ] Desktop (Chrome, Firefox)
- [ ] Mobile (iOS Safari, Android Chrome)
- [ ] Telegram Desktop
- [ ] Telegram Mobile (iOS –∏ Android)

**–§–∞–π–ª—ã:**
- –°–æ–∑–¥–∞—Ç—å `TESTING_MINI_APPS.md` —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- ‚úÖ –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞ –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö
- ‚úÖ –ù–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö –±–∞–≥–æ–≤
- ‚úÖ –í—Å–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –±–∞–≥–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã

---

## –î–µ–Ω—å 5 (10 –¥–µ–∫–∞–±—Ä—è) - –£–ª—É—á—à–µ–Ω–∏–µ UX

### –£—Ç—Ä–æ (09:00-13:00) - 4 —á–∞—Å–∞
**–ó–∞–¥–∞—á–∞:** –î–æ–±–∞–≤–∏—Ç—å grouping –∏ —Ñ–∏–ª—å—Ç—Ä—ã –≤ Clients

#### –û–±–Ω–æ–≤–∏—Ç—å `webapp/master/clients.html`
**–î–æ–±–∞–≤–∏—Ç—å:**
- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫—É –ø–æ –ø–µ—Ä–≤–æ–π –±—É–∫–≤–µ –∏–º–µ–Ω–∏ (A-Z sections)
- –§–∏–ª—å—Ç—Ä—ã: –í—Å–µ / –ê–∫—Ç–∏–≤–Ω—ã–µ / –ù–µ–∞–∫—Ç–∏–≤–Ω—ã–µ
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞: –ü–æ –∏–º–µ–Ω–∏ / –ü–æ –¥–∞—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –≤–∏–∑–∏—Ç–∞ / –ü–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –≤–∏–∑–∏—Ç–æ–≤
- Virtual scrolling –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤ (–µ—Å–ª–∏ > 100 –∫–ª–∏–µ–Ω—Ç–æ–≤)

**–î–∏–∑–∞–π–Ω:**
```
[–ü–æ–∏—Å–∫_______________]
[–§–∏–ª—å—Ç—Ä‚ñº] [–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞‚ñº]

=== A ===
‚Ä¢ –ê–ª–∏—Å–∞ –ò–≤–∞–Ω–æ–≤–∞ (5 –≤–∏–∑–∏—Ç–æ–≤)
‚Ä¢ –ê–Ω–Ω–∞ –ü–µ—Ç—Ä–æ–≤–∞ (12 –≤–∏–∑–∏—Ç–æ–≤)

=== –ë ===
‚Ä¢ –ë–æ—Ä–∏—Å –°–∏–¥–æ—Ä–æ–≤ (3 –≤–∏–∑–∏—Ç–∞)
```

**–§–∞–π–ª—ã:**
- `webapp/master/clients.js` (–æ–±–Ω–æ–≤–∏—Ç—å +200 —Å—Ç—Ä–æ–∫)
- `webapp/master/clients.css` (–¥–æ–±–∞–≤–∏—Ç—å —Å—Ç–∏–ª–∏ –¥–ª—è sections)

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- ‚úÖ –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –§–∏–ª—å—Ç—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ö–æ—Ä–æ—à–∞—è (–¥–∞–∂–µ —Å–æ 1000 –∫–ª–∏–µ–Ω—Ç–æ–≤)

---

### –î–µ–Ω—å (14:00-17:00) - 3 —á–∞—Å–∞
**–ó–∞–¥–∞—á–∞:** –£–ª—É—á—à–∏—Ç—å Services - drag & drop —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞

#### –û–±–Ω–æ–≤–∏—Ç—å `webapp/master/services.html`
**–î–æ–±–∞–≤–∏—Ç—å:**
- Drag & drop –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ—Ä—è–¥–∫–∞ —É—Å–ª—É–≥
- –ì—Ä—É–ø–ø—ã —É—Å–ª—É–≥ (–º–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å "–ë—Ä–æ–≤–∏", "–ù–æ–≥—Ç–∏", "–†–µ—Å–Ω–∏—Ü—ã")
- –ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ —É—Å–ª—É–≥ –º–µ–∂–¥—É –≥—Ä—É–ø–ø–∞–º–∏
- Bulk –æ–ø–µ—Ä–∞—Ü–∏–∏: –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å/–¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —É—Å–ª—É–≥

**–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞:**
- SortableJS (–ª–µ–≥–∫–æ–≤–µ—Å–Ω–∞—è, 20kb gzipped)

**API:**
- `POST /api/master/service/reorder` (service_ids –≤ –Ω–æ–≤–æ–º –ø–æ—Ä—è–¥–∫–µ)

**–§–∞–π–ª—ã:**
- `webapp/master/services.js` (–¥–æ–±–∞–≤–∏—Ç—å sortable ~100 —Å—Ç—Ä–æ–∫)
- `bot/handlers/api.py` (–¥–æ–±–∞–≤–∏—Ç—å reorder endpoint ~30 —Å—Ç—Ä–æ–∫)

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- ‚úÖ Drag & drop —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–ª–∞–≤–Ω–æ
- ‚úÖ –ü–æ—Ä—è–¥–æ–∫ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- ‚úÖ Bulk –æ–ø–µ—Ä–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç

---

### –í–µ—á–µ—Ä (18:00-20:00) - 2 —á–∞—Å–∞
**–ó–∞–¥–∞—á–∞:** –î–æ–±–∞–≤–∏—Ç—å —ç–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö

#### –°–æ–∑–¥–∞—Ç—å `webapp/master/export.html`
**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –≠–∫—Å–ø–æ—Ä—Ç –∫–ª–∏–µ–Ω—Ç–æ–≤ –≤ CSV/Excel
- –≠–∫—Å–ø–æ—Ä—Ç –∑–∞–ø–∏—Å–µ–π –∑–∞ –ø–µ—Ä–∏–æ–¥ –≤ CSV
- –≠–∫—Å–ø–æ—Ä—Ç —Ñ–∏–Ω–∞–Ω—Å–æ–≤ –∑–∞ –ø–µ—Ä–∏–æ–¥ –≤ CSV
- –ö–Ω–æ–ø–∫–∞ "–°–∫–∞—á–∞—Ç—å" –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ñ–∞–π–ª

**API:**
- `GET /api/master/export/clients?mid={id}&format=csv`
- `GET /api/master/export/appointments?mid={id}&start={date}&end={date}&format=csv`
- `GET /api/master/export/finances?mid={id}&start={date}&end={date}&format=csv`

**–§–∞–π–ª—ã:**
- `webapp/master/export.html` (~100 —Å—Ç—Ä–æ–∫)
- `bot/handlers/api.py` (3 endpoints ~150 —Å—Ç—Ä–æ–∫)

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- ‚úÖ –≠–∫—Å–ø–æ—Ä—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ CSV –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω (UTF-8 BOM –¥–ª—è Excel)
- ‚úÖ –ë–æ–ª—å—à–∏–µ —Ñ–∞–π–ª—ã –Ω–µ –≤—ã–∑—ã–≤–∞—é—Ç timeout

---

## –î–µ–Ω—å 6 (11 –¥–µ–∫–∞–±—Ä—è) - Performance & Caching

### –£—Ç—Ä–æ (09:00-13:00) - 4 —á–∞—Å–∞
**–ó–∞–¥–∞—á–∞:** –î–æ–±–∞–≤–∏—Ç—å Redis –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ

#### –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Redis –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å
```bash
# –ù–∞ VPS
sudo apt install redis-server
pip install redis aioredis
```

#### –°–æ–∑–¥–∞—Ç—å `services/cache.py`
```python
class CacheService:
    async def get_master_services(self, master_id: int) -> list | None
    async def set_master_services(self, master_id: int, services: list, ttl=300)
    async def invalidate_master_services(self, master_id: int)
```

**–ß—Ç–æ –∫–µ—à–∏—Ä–æ–≤–∞—Ç—å:**
- –°–ø–∏—Å–æ–∫ —É—Å–ª—É–≥ –º–∞—Å—Ç–µ—Ä–∞ (TTL 5 –º–∏–Ω, invalidate –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏)
- –°–≤–æ–±–æ–¥–Ω—ã–µ —Å–ª–æ—Ç—ã (TTL 1 –º–∏–Ω, invalidate –ø—Ä–∏ –Ω–æ–≤–æ–π –∑–∞–ø–∏—Å–∏)
- –ì—Ä–∞—Ñ–∏–∫ —Ä–∞–±–æ—Ç—ã –º–∞—Å—Ç–µ—Ä–∞ (TTL 1 —á–∞—Å)

**–§–∞–π–ª—ã:**
- `services/cache.py` (–Ω–æ–≤—ã–π ~200 —Å—Ç—Ä–æ–∫)
- `bot/config.py` (–¥–æ–±–∞–≤–∏—Ç—å REDIS_URL –≤ settings)
- `requirements.txt` (–¥–æ–±–∞–≤–∏—Ç—å redis==5.0.1)

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- ‚úÖ Redis –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ
- ‚úÖ –ö–µ—à —Ä–∞–±–æ—Ç–∞–µ—Ç (hit/miss –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è)
- ‚úÖ Invalidation —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ Fallback –Ω–∞ –ë–î –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö Redis

---

### –î–µ–Ω—å (14:00-17:00) - 3 —á–∞—Å–∞
**–ó–∞–¥–∞—á–∞:** –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è SQL –∑–∞–ø—Ä–æ—Å–æ–≤

#### –ê–Ω–∞–ª–∏–∑ –º–µ–¥–ª–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
```sql
-- –í–∫–ª—é—á–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ–¥–ª–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
ALTER DATABASE beautyassist SET log_min_duration_statement = 100;

-- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å N+1 queries
SELECT * FROM pg_stat_statements ORDER BY total_exec_time DESC LIMIT 20;
```

**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**
1. –î–æ–±–∞–≤–∏—Ç—å `selectinload()` –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è N+1 –≤ appointments
2. –î–æ–±–∞–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å –¥–ª—è `clients.phone` (–ø–æ–∏—Å–∫)
3. –î–æ–±–∞–≤–∏—Ç—å composite index –¥–ª—è `appointments(master_id, status, start_time)`

**–§–∞–π–ª—ã:**
- `database/repositories/*.py` (–æ–±–Ω–æ–≤–∏—Ç—å queries —Å joinedload/selectinload)
- `alembic/versions/XXX_add_composite_indexes.py` (–º–∏–≥—Ä–∞—Ü–∏—è)
- `scripts/analyze_slow_queries.sql` (–Ω–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç)

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- ‚úÖ –ù–µ—Ç N+1 queries
- ‚úÖ –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã < 50ms (95 percentile)
- ‚úÖ –ò–Ω–¥–µ–∫—Å—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è (EXPLAIN ANALYZE)

---

### –í–µ—á–µ—Ä (18:00-20:00) - 2 —á–∞—Å–∞
**–ó–∞–¥–∞—á–∞:** Load testing

#### –ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å Locust
```python
# tests/load/locustfile.py
class MasterUser(HttpUser):
    @task
    def get_appointments(self):
        self.client.get(f"/api/master/appointments?mid=123")
    
    @task
    def create_appointment(self):
        # POST /api/appointment/create
```

**–°—Ü–µ–Ω–∞—Ä–∏–∏:**
- 100 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- 1000 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–∏–Ω—É—Ç—É
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–≤–µ—Ç–∞ (p95 < 200ms)

**–§–∞–π–ª—ã:**
- `tests/load/locustfile.py` (–Ω–æ–≤—ã–π ~200 —Å—Ç—Ä–æ–∫)
- `LOAD_TESTING_REPORT.md` (—Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã)

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- ‚úÖ –ë–æ—Ç –≤—ã–¥–µ—Ä–∂–∏–≤–∞–µ—Ç 100 RPS –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ p95 latency < 200ms
- ‚úÖ –ù–µ—Ç memory leaks
- ‚úÖ CPU usage < 70%

---

## –î–µ–Ω—å 7 (12 –¥–µ–∫–∞–±—Ä—è) - Monitoring & Alerts

### –£—Ç—Ä–æ (09:00-13:00) - 4 —á–∞—Å–∞
**–ó–∞–¥–∞—á–∞:** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å Prometheus + Grafana

#### –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Prometheus –∏ Grafana –Ω–∞ VPS
```bash
# Prometheus
docker run -d -p 9090:9090 prom/prometheus

# Grafana
docker run -d -p 3000:3000 grafana/grafana
```

#### –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –≤ –±–æ—Ç–∞
```python
# bot/monitoring.py
from prometheus_client import Counter, Histogram

appointments_created = Counter('appointments_created_total', 'Total appointments')
api_request_duration = Histogram('api_request_duration_seconds', 'API latency')
```

**–ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è:**
- Appointments created/cancelled/completed (counter)
- API request latency (histogram)
- Active masters (gauge)
- Subscription conversions (counter)
- Error rate (counter)

**–§–∞–π–ª—ã:**
- `bot/monitoring.py` (–Ω–æ–≤—ã–π ~150 —Å—Ç—Ä–æ–∫)
- `prometheus.yml` (–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
- `grafana/dashboard.json` (–¥–∞—à–±–æ—Ä–¥)

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- ‚úÖ Prometheus —Å–æ–±–∏—Ä–∞–µ—Ç –º–µ—Ç—Ä–∏–∫–∏
- ‚úÖ Grafana –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –¥–∞—à–±–æ—Ä–¥—ã
- ‚úÖ –ê–ª–µ—Ä—Ç—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã (email/Telegram)

---

### –î–µ–Ω—å (14:00-17:00) - 3 —á–∞—Å–∞
**–ó–∞–¥–∞—á–∞:** Error tracking —Å Sentry

#### –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å Sentry
```python
import sentry_sdk

sentry_sdk.init(
    dsn=settings.SENTRY_DSN,
    traces_sample_rate=0.1,
)
```

**–ß—Ç–æ —Ç—Ä–µ–∫–∞—Ç—å:**
- –í—Å–µ exceptions (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
- Slow API requests (> 1s)
- Failed payments
- Failed message sends

**–§–∞–π–ª—ã:**
- `bot/main.py` (–¥–æ–±–∞–≤–∏—Ç—å sentry_sdk.init)
- `requirements.txt` (–¥–æ–±–∞–≤–∏—Ç—å sentry-sdk==1.39.0)
- `.env.production` (–¥–æ–±–∞–≤–∏—Ç—å SENTRY_DSN)

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- ‚úÖ Sentry –ø–æ–ª—É—á–∞–µ—Ç –æ—à–∏–±–∫–∏
- ‚úÖ Alerts –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã (critical errors)
- ‚úÖ Performance monitoring —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ Release tracking –Ω–∞—Å—Ç—Ä–æ–µ–Ω

---

### –í–µ—á–µ—Ä (18:00-20:00) - 2 —á–∞—Å–∞
**–ó–∞–¥–∞—á–∞:** –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –¥–µ–ø–ª–æ–π

#### –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
**–°–æ–∑–¥–∞—Ç—å/–æ–±–Ω–æ–≤–∏—Ç—å:**
- `MINI_APP_ARCHITECTURE.md` - –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Mini Apps
- `API_REFERENCE.md` - –≤—Å–µ API endpoints —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏
- `DEPLOYMENT_CHECKLIST.md` - —á–µ–∫-–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º
- `MONITORING_GUIDE.md` - –∫–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è Grafana

**–î–µ–ø–ª–æ–π –Ω–∞ production:**
```bash
# VPS
cd /var/www/BeautyAssist
git pull origin main
source venv/bin/activate
pip install -r requirements.txt
alembic upgrade head
sudo systemctl restart beautyassist-bot
```

**–§–∞–π–ª—ã:**
- 4 –Ω–æ–≤—ã—Ö .md —Ñ–∞–π–ª–∞ (~200 —Å—Ç—Ä–æ–∫ –∫–∞–∂–¥—ã–π)

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- ‚úÖ –í—Å—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∞–∫—Ç—É–∞–ª—å–Ω–∞
- ‚úÖ –î–µ–ø–ª–æ–π –ø—Ä–æ—à—ë–ª –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç –Ω–∞ production
- ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∑–µ–ª—ë–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏

---

## üìä –ò—Ç–æ–≥–∏ –Ω–µ–¥–µ–ª–∏

### –ß—Ç–æ –±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
1. ‚úÖ **Admin Analytics** - retention, cohorts, funnel, growth –º–µ—Ç—Ä–∏–∫–∏ (–ó–ê–í–ï–†–®–ï–ù–û –î–µ–Ω—å 1)
2. ‚úÖ **Appointments —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** - –¥–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º—É –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π (–ó–ê–í–ï–†–®–ï–ù–û –î–µ–Ω—å 2)
3. ‚úÖ **–¶–µ–Ω—ã –≤ –∑–∞–ø–∏—Å—è—Ö** - –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ —É—Å–ª—É–≥ –≤ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö (–ó–ê–í–ï–†–®–ï–ù–û –î–µ–Ω—å 2)
4. üéØ **Finances Mini App** - —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–π —É—á—ë—Ç —á–µ—Ä–µ–∑ WebApp (–°–õ–ï–î–£–Æ–©–ï–ï)
5. ‚è≥ **–ú–∏–≥—Ä–∞—Ü–∏—è –∫–æ–º–∞–Ω–¥ –±–æ—Ç–∞** - –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —á–µ—Ä–µ–∑ Mini App
6. ‚è≥ **UX —É–ª—É—á—à–µ–Ω–∏—è** - –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞, —Ñ–∏–ª—å—Ç—Ä—ã, drag & drop, —ç–∫—Å–ø–æ—Ä—Ç
7. ‚è≥ **Performance** - Redis –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ, SQL –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
8. ‚è≥ **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - Prometheus, Grafana, Sentry

### –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞
- [‚úÖ] Admin Analytics —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ production
- [‚úÖ] –î–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç (—á–µ—Ä–µ–∑ reminder —Å–∏—Å—Ç–µ–º—É)
- [‚úÖ] –¶–µ–Ω—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –∑–∞–ø–∏—Å—è—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤
- [ ] Finances Mini App —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ production
- [ ] API latency p95 < 200ms
- [ ] Error rate < 0.1%
- [ ] 100% —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –¥–æ—Å—Ç—É–ø–Ω–æ —á–µ—Ä–µ–∑ Mini App
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∞–∫—Ç—É–∞–ª—å–Ω–∞ –∏ –ø–æ–ª–Ω–∞

### –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –ø–ª–∞–Ω–∞
**–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –î–Ω—è 1:**
- AnalyticsService, API endpoints –∏ analytics.js —É–∂–µ –±—ã–ª–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —Ä–∞–Ω–µ–µ
- –î–æ–±–∞–≤–ª–µ–Ω—ã —Ç–æ–ª—å–∫–æ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –∏–Ω–¥–µ–∫—Å—ã –∏ —É–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –î–µ–Ω—å 1 –∑–∞–≤–µ—Ä—à—ë–Ω –∑–∞ 30 –º–∏–Ω—É—Ç –≤–º–µ—Å—Ç–æ 9 —á–∞—Å–æ–≤

**–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –î–Ω—è 2 (6 –¥–µ–∫–∞–±—Ä—è, –≤–µ—á–µ—Ä):**
- Appointments Mini App –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤ —É–∂–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–ª (webapp/appointments.html)
- –î–æ–±–∞–≤–ª–µ–Ω—ã –¥–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º—É –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π (80 –º–∏–Ω—É—Ç)
- –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ reminder infrastructure –≤–º–µ—Å—Ç–æ –ø—Ä—è–º–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ (–±–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω–æ)
- –î–æ–±–∞–≤–ª–µ–Ω—ã —Ü–µ–Ω—ã —É—Å–ª—É–≥ –≤ –∫–∞—Ä—Ç–æ—á–∫–∏ –∑–∞–ø–∏—Å–µ–π
- –î–µ–Ω—å 2 –∑–∞–≤–µ—Ä—à—ë–Ω –¥–æ—Å—Ä–æ—á–Ω–æ (80 –º–∏–Ω—É—Ç –≤–º–µ—Å—Ç–æ 9 —á–∞—Å–æ–≤)
- **–û–ø–µ—Ä–µ–∂–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–∞:** –ù–∞ 2 –¥–Ω—è –≤–ø–µ—Ä–µ–¥! –ú–æ–∂–µ–º –Ω–∞—á–∞—Ç—å –î–µ–Ω—å 3-4 —Ä–∞–Ω—å—à–µ —Å—Ä–æ–∫–∞
- **–°–ª–µ–¥—É—é—â–∏–π —Ñ–æ–∫—É—Å:** Finances Mini App –∏–ª–∏ –¥–µ–ø–ª–æ–π + —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—É—â–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π

---

## üöÄ –°–ª–µ–¥—É—é—â–∞—è –Ω–µ–¥–µ–ª—è (13-20 –¥–µ–∫–∞–±—Ä—è)

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã
1. **SMS —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è SMS.RU –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤ –±–µ–∑ Telegram
2. **Push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** - Web Push –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
3. **–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥** - landing page, —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ v2
4. **A/B —Ç–µ—Å—Ç—ã** - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ conversion rate
5. **Mobile app** - –æ–±—ë—Ä—Ç–∫–∞ React Native –¥–ª—è Mini Apps

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

### –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
```bash
# –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
python -m bot.main

# –¢–µ—Å—Ç—ã
pytest -v

# –ú–∏–≥—Ä–∞—Ü–∏–∏
alembic upgrade head

# –î–µ–ø–ª–æ–π –Ω–∞ VPS
git push origin main
ssh vps "cd /var/www/BeautyAssist && git pull && systemctl restart beautyassist-bot"
```

### –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏
- [Telegram Bot API](https://core.telegram.org/bots/api)
- [Telegram WebApp](https://core.telegram.org/bots/webapps)
- [Chart.js Docs](https://www.chartjs.org/docs/latest/)
- [SortableJS](https://github.com/SortableJS/Sortable)
- [Prometheus Docs](https://prometheus.io/docs/)

---

**–°–æ—Å—Ç–∞–≤–ª–µ–Ω–æ:** 6 –¥–µ–∫–∞–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** Ready to implement  
**–û—Ü–µ–Ω–∫–∞ —Ç—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç:** ~50 —á–∞—Å–æ–≤ —á–∏—Å—Ç–æ–π —Ä–∞–±–æ—Ç—ã
